syntax = "proto3";

option java_multiple_files = true;
option java_package = "eBankingServices.UserTools";
option java_outer_classname = "UserToolsImpl";

package UserTools;

service UserTools {
  
  // Bi-directional streaming gRPC method 1: Help Bot
  rpc HelpBot(stream HelpRequest) returns (stream HelpResponse) {}
  
  // Unary gRPC method 2: Vaults
  rpc Vault(VaultAccess) returns (VaultConfirmation) {}
  
  // Client-streaming gRPC method 3: Interest Calculator
  rpc InterestCalc(stream CalcRequest) returns (CalcResponse) {}
    
}

// help bot message
message HelpRequest {
  int32 problemID = 1; 
  
    enum Solutions{

  	PASSWORD_RESET =0;
  	REPORT_BUG=1;
  	VAULTS=2;
  	PAYMENTS=3;
  }
  Solutions solutions = 2;
}

message HelpResponse {
  string solution = 1;
  }
  
// valut message
message VaultAccess {
  int32 accNo = 1;  
  int32 sum = 2;
  string unlockDate = 3;
  int32 vaultID = 4;
  string username = 5;
  string password = 6;
}

message VaultConfirmation {
  string vaultConf = 3;
}

// interest calculator message
message CalcRequest {
  int32 sum = 1; 
  int32 interestRate = 2; 
}

message CalcResponse {
  int32 total = 1;
}